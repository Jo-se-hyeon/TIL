# 클로저
> 클로저는 함수와 그 함수가 선언됐을때의 렉시컬 환경(어휘적 환경)과의 조합이다. 즉 함수를 선언한 환경에서의 관계를 의미한다. 쉽게 이야기하면 ***외부 변수를 기억하고 이 외부 변수에 접근할 수 있는 함수를 의미한다.***


모든 함수는 함수가 생성된 곳의 렉시컬 환경을 기억한다. 함수는 `[[Envioroment]]`라고 불리는 숨김 프로퍼티를 가지게 되는데, 여기에 함수가 만들어진 곳의 렉시컬 환경에 대한 참조가 저장된다.

`[[Envioroment]]`덕분에 호출 장소와 상관없이 함수는 자신이 생성된 곳을 기억한다.
함수 본문에서 `[[Envioroment]]`를 이용하여 외부 변수에 접근이 가능하다.
> ※`[[Envioroment]]`는 함수가 생성될때 딱 한번 세팅되고 변하지 않는다.

이러한 특성 덕분에 자바스크립트에서는 모든 함수가 자연스럽게 클로저가 된다.

```js
function makeCounter() {
  let num = 0;
  return function () {
    return num++;
  };
}
let counter = makeCounter();
console.log(counter()); // 0
console.log(counter()); // 1
console.log(counter()); // 2
```
`makeCounter()` 함수는 내부 함수를 리턴하고 있다. 변수 `counter`는 내부함수를 리턴받아 사용하게 된다. `makeCounter()`는 이미 실행이 끝났기에 `num`의 접근이 불가능해야 하지만 클로저 현상으로 인해 내부 함수가 렉시컬 환경을 기억하고 있어 지속적으로 `num`에 접근이 가능한 것이다.
